action: fire-dom-event
browser_mod:
  service: browser_mod.popup
  data:
    title: Vacuum
    timeout: 300000
    style: |
      --popup-max-width: calc(385px + 495px);
      --primary-color: transparent; /* hide timeout progress */
    card_mod:
      style:
        #popup header
        .:
    content:
      type: vertical-stack
      cards:
        - square: false
          columns: 1
          type: grid
          cards:
            - type: logbook
              entities:
                - vacuum.x50_ultra
                - sensor.x50_ultra_current_room
              card_mod:
                style: |
                  ha-logbook {
                    max-height: 265px !important;
                  }
            - type: custom:xiaomi-vacuum-map-card
              entity: vacuum.x50_ultra
              map_source:
                camera: camera.x50_ultra_map
              calibration_source:
                camera: true
              vacuum_platform: Tasshack/dreame-vacuum
